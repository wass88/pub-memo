<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0" class="jsx-41c22be01142c0ef"/><meta name="format-detection" content="telephone=no,address=no,email=no" class="jsx-41c22be01142c0ef"/><meta http-equiv="X-UA-Compatible" content="IE=edge" class="jsx-41c22be01142c0ef"/><title>三目並べをランダムに指したときの先手の勝利確率は? - wassのメモ書き</title><meta name="description" content="三目並べをランダムに指したときの先手の勝利確率は? -- まったくもってランダムに三目並べを行う"/><link rel="icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;⭕&lt;/text&gt;&lt;/svg&gt;"/><meta name="next-head-count" content="7"/><link rel="preload" href="/_next/static/css/dc8f78c59f7140f9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/dc8f78c59f7140f9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-142e59777b5c82a1.js" defer=""></script><script src="/_next/static/chunks/framework-bb5c596eafb42b22.js" defer=""></script><script src="/_next/static/chunks/main-abbcac3391c38bd4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-809f5962319df396.js" defer=""></script><script src="/_next/static/chunks/175675d1-f160d4a5df49f5d3.js" defer=""></script><script src="/_next/static/chunks/3607272e-64ab698a8afc6376.js" defer=""></script><script src="/_next/static/chunks/823-40883892a14ca955.js" defer=""></script><script src="/_next/static/chunks/625-c751884491ded5a0.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bid%5D-550a1d23ebc6ba27.js" defer=""></script><script src="/_next/static/M7kTXvE1EWKjWhGFmeUbI/_buildManifest.js" defer=""></script><script src="/_next/static/M7kTXvE1EWKjWhGFmeUbI/_ssgManifest.js" defer=""></script><style id="__jsx-3bd76abe47806f9">a.jsx-3bd76abe47806f9{color:var(--main-fg-color);text-shadow:1px 1px var(--main-color)}a.jsx-3bd76abe47806f9:hover{text-shadow:1px 1px var(--main-color),-1px -1px var(--main-color)}</style><style id="__jsx-ac4cd3c041d76067">.tags.jsx-ac4cd3c041d76067{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row wrap;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;gap:8px;position:absolute;bottom:16px}.chip.jsx-ac4cd3c041d76067{padding:2px 16px;font-weight:bold;-webkit-border-radius:24px;-moz-border-radius:24px;border-radius:24px;color:var(--fg-color);background:var(--sub-dark-color)}.chip.jsx-ac4cd3c041d76067:hover{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}</style><style id="__jsx-799c9c579b670e9f">.card.jsx-799c9c579b670e9f{background:var(--fg-color);width:-webkit-calc((960px - 16px)/2);width:-moz-calc((960px - 16px)/2);width:calc((960px - 16px)/2);height:100%;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;color:var(--sub-darker-color);cursor:pointer;padding:0 12px 12px 12px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-flow:column;flex-flow:column;position:relative}.card.jsx-799c9c579b670e9f h2.jsx-799c9c579b670e9f{margin:0 -12px 0 -12px;line-height:1.25;background:var(--sub-dark-color);padding:16px;-webkit-border-radius:12px 12px 0 0;-moz-border-radius:12px 12px 0 0;border-radius:12px 12px 0 0;color:var(--fg-color);font-weight:bold;text-shadow:1px 1px var(--sub-dark-color)}.card.jsx-799c9c579b670e9f:hover{-webkit-transform:translate(2px,2px);-moz-transform:translate(2px,2px);-ms-transform:translate(2px,2px);-o-transform:translate(2px,2px);transform:translate(2px,2px)}p.jsx-799c9c579b670e9f{margin:12px 0 12px 0;opacity:80%;padding-bottom:36px;font-weight:bold}@media screen and (max-width:960px){.card.jsx-799c9c579b670e9f{width:initial}}</style><style id="__jsx-3dbb0f5aa2cfedf0">.column.jsx-3dbb0f5aa2cfedf0{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row wrap;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;gap:16px}@media screen and (max-width:960px){.column.jsx-3dbb0f5aa2cfedf0{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-flow:column;flex-flow:column}}</style><style id="__jsx-2421c33cd1acb0d2">aside.jsx-2421c33cd1acb0d2{margin-top:3rem}.sub-info.jsx-2421c33cd1acb0d2{margin:-36px 0 16px 0;font-size:75%}nav.jsx-2421c33cd1acb0d2{margin-top:32px}</style><style id="__jsx-41c22be01142c0ef">*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:0;margin:0}:root{--main-color:#6eb488;--sub-light-color:#7ff0aa;--sub-darker-color:#3a6746;--sub-dark-color:#6eb488;--sub-lighter-color:#e8f4d9;--fg-color:var(--sub-lighter-color);--jump:16px}html{font-family:"Helvetica Neue",Arial,"Hiragino Kaku Gothic Pro","Yu Gothic Medium",YuGothic,"メイリオ",sans-serif;font-size:var(--jump);line-height:2;color:var(--fg-color);background:#151515}body{height:100vh}h1{font-size:400%;line-height:1.25;font-weight:bold;padding:-webkit-calc(3*var(--jump))0;padding:-moz-calc(3*var(--jump))0;padding:calc(3*var(--jump))0;--stripe-color:var(--sub-light-color);background-color:var(--main-color);background-image:-webkit-linear-gradient(left,transparent 50%,var(--stripe-color)50%);background-image:-moz-linear-gradient(left,transparent 50%,var(--stripe-color)50%);background-image:-o-linear-gradient(left,transparent 50%,var(--stripe-color)50%);background-image:linear-gradient(90deg,transparent 50%,var(--stripe-color)50%);-webkit-background-size:5px 10px;-moz-background-size:5px 10px;-o-background-size:5px 10px;background-size:5px 10px;-webkit-background-clip:text;background-clip:text;color:transparent;margin-top:-8px;margin-bottom:-36px}h2{font-size:150;text-shadow:1px 1px var(--sub-dark-color)}h3{font-size:100}.inner{max-width:960px;margin:0 auto}p{-webkit-margin-after:1rem;margin-block-end:1rem}@media screen and (max-width:960px){.inner{padding:0 16px}h1{font-size:200%}}a{text-decoration:inherit;color:inherit}a:hover{color:inherit}a:visited{color:inherit}ul{-webkit-padding-start:1rem;-moz-padding-start:1rem;padding-inline-start:1rem;-webkit-margin-after:1rem;margin-block-end:1rem}ul>ul{-webkit-margin-after:0;margin-block-end:0}</style></head><body><div id="__next" data-reactroot=""><div class="jsx-41c22be01142c0ef container"><div class="jsx-41c22be01142c0ef inner"><main class="jsx-41c22be01142c0ef"><a class="jsx-2421c33cd1acb0d2" href="/2022-10-05-tictactoe-random/"><h1 class="jsx-2421c33cd1acb0d2">三目並べをランダムに指したときの先手の勝利確率は?</h1></a><div class="jsx-2421c33cd1acb0d2 sub-info"><span class="jsx-2421c33cd1acb0d2">作成日: <!-- -->2022-10-05</span></div><main class="notion dark-mode notion-page notion-block-5b75289da98f4a25a02b4290f87cc16b"><div class="notion-viewport"></div><div class="notion-text notion-default notion-block-9e6ed96f70cf49269698b696ffb6224f">このツイートを見かけて、オッズを求めてみた。</div><figure class="notion-asset-wrapper notion-asset-wrapper-tweet notion-block-13d85c4ed9804b7f91224fbb4ad2e5e1"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column"><div style="max-width:420px;width:100%;margin-left:auto;margin-right:auto"><div></div></div></div></figure><div class="notion-text notion-default notion-block-88f1d204089f41ba9280b0cb3c33f900">勝率は先手46%、後手23%、引き分け31%。</div><div class="notion-text notion-default notion-block-99de6c81824f43fb8ea619e3862dd576">「先手勝ち: 2倍。後手勝ち: 4倍。引き分け: 3倍」でかなりバランスの良い控除率になることがわかる。</div><pre style="color:#e3eaf2;background:#111b27;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto"><code class="language-ruby" style="color:#e3eaf2;background:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>win</span><span class="token" style="color:#e9ae7e">=</span><span class="token" style="color:#e3eaf2">{</span><span class="token" style="color:#e6d37a">0</span><span class="token" style="color:#e9ae7e">=&gt;</span><span class="token" style="color:#e6d37a">0</span><span class="token" style="color:#e3eaf2">,</span><span> </span><span class="token" style="color:#e6d37a">1</span><span class="token" style="color:#e9ae7e">=&gt;</span><span class="token" style="color:#e6d37a">0</span><span class="token" style="color:#e3eaf2">,</span><span> </span><span class="token" style="color:#e9ae7e">-</span><span class="token" style="color:#e6d37a">1</span><span class="token" style="color:#e9ae7e">=&gt;</span><span class="token" style="color:#e6d37a">0</span><span class="token" style="color:#e3eaf2">}</span><span>
</span><span>t</span><span class="token" style="color:#e9ae7e">=</span><span class="token" style="color:#e6d37a">0</span><span>
</span><span></span><span class="token" style="color:#e3eaf2">[</span><span class="token" style="color:#e9ae7e">*</span><span class="token" style="color:#e6d37a">0.</span><span class="token" style="color:#e6d37a">.8</span><span class="token" style="color:#e3eaf2">]</span><span class="token" style="color:#e3eaf2">.</span><span>permutation </span><span class="token" style="color:#e9ae7e">do</span><span> </span><span class="token" style="color:#e9ae7e">|</span><span>moves</span><span class="token" style="color:#e9ae7e">|</span><span>
</span><span>    board </span><span class="token" style="color:#e9ae7e">=</span><span> </span><span class="token" style="color:#e3eaf2">[</span><span class="token" style="color:#e6d37a">0</span><span class="token" style="color:#e3eaf2">]</span><span> </span><span class="token" style="color:#e9ae7e">*</span><span> </span><span class="token" style="color:#e6d37a">9</span><span>
</span><span>    player </span><span class="token" style="color:#e9ae7e">=</span><span> </span><span class="token" style="color:#e6d37a">1</span><span>
</span><span>    ok </span><span class="token" style="color:#e9ae7e">=</span><span> </span><span class="token" style="color:#e6d37a">false</span><span>
</span><span>    </span><span class="token" style="color:#e3eaf2">[</span><span class="token" style="color:#e9ae7e">*</span><span>moves</span><span class="token" style="color:#e3eaf2">,</span><span> </span><span class="token" style="color:#e9ae7e">nil</span><span class="token" style="color:#e3eaf2">]</span><span class="token" style="color:#e3eaf2">.</span><span class="token" style="color:#e9ae7e">each</span><span> </span><span class="token" style="color:#e9ae7e">do</span><span> </span><span class="token" style="color:#e9ae7e">|</span><span>move</span><span class="token" style="color:#e9ae7e">|</span><span>
</span><span>        </span><span class="token" style="color:#e9ae7e">if</span><span> move </span><span class="token" style="color:#e9ae7e">==</span><span> </span><span class="token" style="color:#e9ae7e">nil</span><span>
</span><span>            win</span><span class="token" style="color:#e3eaf2">[</span><span class="token" style="color:#e6d37a">0</span><span class="token" style="color:#e3eaf2">]</span><span> </span><span class="token" style="color:#e9ae7e">+=</span><span> </span><span class="token" style="color:#e6d37a">1</span><span>
</span><span>            </span><span class="token" style="color:#e9ae7e">next</span><span>
</span><span>        </span><span class="token" style="color:#e9ae7e">end</span><span>
</span><span>        board</span><span class="token" style="color:#e3eaf2">[</span><span>move</span><span class="token" style="color:#e3eaf2">]</span><span> </span><span class="token" style="color:#e9ae7e">=</span><span> player
</span><span>        lines </span><span class="token" style="color:#e9ae7e">=</span><span> </span><span class="token" style="color:#e3eaf2">[</span><span class="token" style="color:#e3eaf2">[</span><span class="token" style="color:#e6d37a">0</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e6d37a">1</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e6d37a">2</span><span class="token" style="color:#e3eaf2">]</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e3eaf2">[</span><span class="token" style="color:#e6d37a">3</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e6d37a">4</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e6d37a">5</span><span class="token" style="color:#e3eaf2">]</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e3eaf2">[</span><span class="token" style="color:#e6d37a">6</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e6d37a">7</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e6d37a">8</span><span class="token" style="color:#e3eaf2">]</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e3eaf2">[</span><span class="token" style="color:#e6d37a">0</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e6d37a">3</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e6d37a">6</span><span class="token" style="color:#e3eaf2">]</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e3eaf2">[</span><span class="token" style="color:#e6d37a">1</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e6d37a">4</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e6d37a">7</span><span class="token" style="color:#e3eaf2">]</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e3eaf2">[</span><span class="token" style="color:#e6d37a">2</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e6d37a">5</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e6d37a">8</span><span class="token" style="color:#e3eaf2">]</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e3eaf2">[</span><span class="token" style="color:#e6d37a">0</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e6d37a">4</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e6d37a">8</span><span class="token" style="color:#e3eaf2">]</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e3eaf2">[</span><span class="token" style="color:#e6d37a">2</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e6d37a">4</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e6d37a">6</span><span class="token" style="color:#e3eaf2">]</span><span class="token" style="color:#e3eaf2">]</span><span>
</span><span>        </span><span class="token" style="color:#e9ae7e">if</span><span> lines</span><span class="token" style="color:#e3eaf2">.</span><span>any</span><span class="token" style="color:#e9ae7e">?</span><span class="token" style="color:#e3eaf2">{</span><span class="token" style="color:#e9ae7e">|</span><span>line</span><span class="token" style="color:#e9ae7e">|</span><span> line</span><span class="token" style="color:#e3eaf2">.</span><span>all</span><span class="token" style="color:#e9ae7e">?</span><span class="token" style="color:#e3eaf2">{</span><span class="token" style="color:#e9ae7e">|</span><span>i</span><span class="token" style="color:#e9ae7e">|</span><span> board</span><span class="token" style="color:#e3eaf2">[</span><span>i</span><span class="token" style="color:#e3eaf2">]</span><span> </span><span class="token" style="color:#e9ae7e">==</span><span>  player</span><span class="token" style="color:#e3eaf2">}</span><span> </span><span class="token" style="color:#e3eaf2">}</span><span>
</span><span>          win</span><span class="token" style="color:#e3eaf2">[</span><span>player</span><span class="token" style="color:#e3eaf2">]</span><span> </span><span class="token" style="color:#e9ae7e">+=</span><span> </span><span class="token" style="color:#e6d37a">1</span><span>
</span><span>          ok </span><span class="token" style="color:#e9ae7e">=</span><span> </span><span class="token" style="color:#e6d37a">true</span><span>
</span><span>          </span><span class="token" style="color:#e9ae7e">if</span><span> rand</span><span class="token" style="color:#e3eaf2">(</span><span class="token" style="color:#e6d37a">100</span><span class="token" style="color:#e3eaf2">)</span><span>  </span><span class="token" style="color:#e9ae7e">==</span><span> </span><span class="token" style="color:#e6d37a">0</span><span>  </span><span class="token" style="color:#e9ae7e">&amp;&amp;</span><span> t </span><span class="token" style="color:#e9ae7e">&lt;</span><span> </span><span class="token" style="color:#e6d37a">10</span><span>
</span><span>              print board</span><span class="token" style="color:#e3eaf2">.</span><span>map</span><span class="token" style="color:#e3eaf2">{</span><span class="token" style="color:#e9ae7e">|</span><span>a</span><span class="token" style="color:#e9ae7e">|</span><span class="token string-literal" style="color:#91d076">&quot;X.O&quot;</span><span class="token" style="color:#e3eaf2">[</span><span>a</span><span class="token" style="color:#e9ae7e">+</span><span class="token" style="color:#e6d37a">1</span><span class="token" style="color:#e3eaf2">]</span><span class="token" style="color:#e3eaf2">}</span><span class="token" style="color:#e3eaf2">.</span><span>each_slice</span><span class="token" style="color:#e3eaf2">(</span><span class="token" style="color:#e6d37a">3</span><span class="token" style="color:#e3eaf2">)</span><span class="token" style="color:#e3eaf2">.</span><span>map</span><span class="token" style="color:#e3eaf2">{</span><span class="token" style="color:#e9ae7e">|</span><span>a</span><span class="token" style="color:#e9ae7e">|</span><span>a</span><span class="token" style="color:#e3eaf2">.</span><span>join</span><span class="token" style="color:#e3eaf2">(</span><span class="token string-literal" style="color:#91d076">&quot;&quot;</span><span class="token" style="color:#e3eaf2">)</span><span class="token" style="color:#e3eaf2">}</span><span class="token" style="color:#e3eaf2">.</span><span>join</span><span class="token" style="color:#e3eaf2">(</span><span class="token string-literal" style="color:#91d076">&quot;\n&quot;</span><span class="token" style="color:#e3eaf2">)</span><span class="token" style="color:#e9ae7e">+</span><span class="token string-literal" style="color:#91d076">&quot;\n\n&quot;</span><span>
</span><span>              t </span><span class="token" style="color:#e9ae7e">+=</span><span class="token" style="color:#e6d37a">1</span><span>
</span><span>          </span><span class="token" style="color:#e9ae7e">end</span><span>
</span><span>          </span><span class="token" style="color:#e9ae7e">next</span><span>
</span><span>        </span><span class="token" style="color:#e9ae7e">end</span><span>
</span><span>        player </span><span class="token" style="color:#e9ae7e">*=</span><span> </span><span class="token" style="color:#e9ae7e">-</span><span class="token" style="color:#e6d37a">1</span><span>
</span><span>    </span><span class="token" style="color:#e9ae7e">end</span><span>
</span><span></span><span class="token" style="color:#e9ae7e">end</span><span>
</span>puts win
<span>s  </span><span class="token" style="color:#e9ae7e">=</span><span>  win</span><span class="token" style="color:#e3eaf2">[</span><span class="token" style="color:#e9ae7e">-</span><span class="token" style="color:#e6d37a">1</span><span class="token" style="color:#e3eaf2">]</span><span class="token" style="color:#e9ae7e">+</span><span>win</span><span class="token" style="color:#e3eaf2">[</span><span class="token" style="color:#e6d37a">0</span><span class="token" style="color:#e3eaf2">]</span><span class="token" style="color:#e9ae7e">+</span><span>win</span><span class="token" style="color:#e3eaf2">[</span><span class="token" style="color:#e6d37a">1</span><span class="token" style="color:#e3eaf2">]</span><span>
</span><span>puts win</span><span class="token" style="color:#e3eaf2">.</span><span>map</span><span class="token" style="color:#e3eaf2">{</span><span class="token" style="color:#e9ae7e">|</span><span>k</span><span class="token" style="color:#e3eaf2">,</span><span>v</span><span class="token" style="color:#e9ae7e">|</span><span class="token" style="color:#e3eaf2">[</span><span>k</span><span class="token" style="color:#e3eaf2">,</span><span class="token" style="color:#e6d37a">1.0</span><span class="token" style="color:#e9ae7e">*</span><span>v</span><span class="token" style="color:#e9ae7e">/</span><span>s</span><span class="token" style="color:#e3eaf2">]</span><span class="token" style="color:#e3eaf2">}</span><span class="token" style="color:#e3eaf2">.</span><span>to_h</span></code></pre><div class="notion-blank notion-block-425866202d4b4af88df979694e6882a8"> </div></main><aside class="jsx-2421c33cd1acb0d2"><p class="jsx-2421c33cd1acb0d2"><a href="https://twitter.com/intent/tweet?text=%E4%B8%89%E7%9B%AE%E4%B8%A6%E3%81%B9%E3%82%92%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E6%8C%87%E3%81%97%E3%81%9F%E3%81%A8%E3%81%8D%E3%81%AE%E5%85%88%E6%89%8B%E3%81%AE%E5%8B%9D%E5%88%A9%E7%A2%BA%E7%8E%87%E3%81%AF%3F%0Ahttps%3A%2F%2Fmemo.wass80.xyz%2F2022-10-05-tictactoe-random" target="_blank" rel="noopener noreferrer" class="jsx-3bd76abe47806f9">Twitterで共有する</a></p><a class="jsx-2421c33cd1acb0d2" href="/"><h1 class="jsx-2421c33cd1acb0d2">最新の記事</h1></a><div class="jsx-3dbb0f5aa2cfedf0 column"><a href="/2022-10-30-the-fools-question/"><div class="jsx-799c9c579b670e9f card"><h2 class="jsx-799c9c579b670e9f">教養動画における本当にに何もわかってない道化の存在について</h2><p class="jsx-799c9c579b670e9f">何もわかっていな人が与える安心感と質問することについて。</p><div class="jsx-ac4cd3c041d76067 tags"><object class="jsx-ac4cd3c041d76067"><a class="jsx-ac4cd3c041d76067" href="/tags/dialy/"><div class="jsx-ac4cd3c041d76067 chip">dialy</div></a></object></div></div></a><a href="/2022-10-29-virtual-dom/"><div class="jsx-799c9c579b670e9f card"><h2 class="jsx-799c9c579b670e9f">仮想DOMの差分更新を簡単に実装する</h2><p class="jsx-799c9c579b670e9f">仮想DOMの簡単な実装を行いました。差分をみて必要なDOMの更新だけ取り出します。</p><div class="jsx-ac4cd3c041d76067 tags"><object class="jsx-ac4cd3c041d76067"><a class="jsx-ac4cd3c041d76067" href="/tags/js/"><div class="jsx-ac4cd3c041d76067 chip">js</div></a></object></div></div></a><a href="/2022-10-28-vue-computed/"><div class="jsx-799c9c579b670e9f card"><h2 class="jsx-799c9c579b670e9f">Vueっぽいものを実装してComputedの仕組みを探る</h2><p class="jsx-799c9c579b670e9f">VueのComputedのやや魔法っぽい、依存関係の自動導出についての仕組みを、簡単な実装で解説しました。</p><div class="jsx-ac4cd3c041d76067 tags"><object class="jsx-ac4cd3c041d76067"><a class="jsx-ac4cd3c041d76067" href="/tags/vue/"><div class="jsx-ac4cd3c041d76067 chip">vue</div></a></object><object class="jsx-ac4cd3c041d76067"><a class="jsx-ac4cd3c041d76067" href="/tags/js/"><div class="jsx-ac4cd3c041d76067 chip">js</div></a></object></div></div></a><a href="/2022-10-25-rust-c-compiler/"><div class="jsx-799c9c579b670e9f card"><h2 class="jsx-799c9c579b670e9f">Rustで「低レイヤを知りたい人のためのCコンパイラ作成入門」を少しやる</h2><p class="jsx-799c9c579b670e9f">コンパイラ作りを思い出す</p><div class="jsx-ac4cd3c041d76067 tags"><object class="jsx-ac4cd3c041d76067"><a class="jsx-ac4cd3c041d76067" href="/tags/rust/"><div class="jsx-ac4cd3c041d76067 chip">rust</div></a></object><object class="jsx-ac4cd3c041d76067"><a class="jsx-ac4cd3c041d76067" href="/tags/compiler/"><div class="jsx-ac4cd3c041d76067 chip">compiler</div></a></object></div></div></a><a href="/2022-10-05-tictactoe-random/"><div class="jsx-799c9c579b670e9f card"><h2 class="jsx-799c9c579b670e9f">三目並べをランダムに指したときの先手の勝利確率は?</h2><p class="jsx-799c9c579b670e9f">まったくもってランダムに三目並べを行う</p><div class="jsx-ac4cd3c041d76067 tags"><object class="jsx-ac4cd3c041d76067"><a class="jsx-ac4cd3c041d76067" href="/tags/game/"><div class="jsx-ac4cd3c041d76067 chip">game</div></a></object></div></div></a><a href="/2022-08-09-infinite-turtle-brainfuck/"><div class="jsx-799c9c579b670e9f card"><h2 class="jsx-799c9c579b670e9f">コンベアで計算する『Infinite Turtle』でBrainfuckインタプリタを実装した</h2><p class="jsx-799c9c579b670e9f">ベルトコンベアでbrainfuckを計算する様子</p><div class="jsx-ac4cd3c041d76067 tags"><object class="jsx-ac4cd3c041d76067"><a class="jsx-ac4cd3c041d76067" href="/tags/game/"><div class="jsx-ac4cd3c041d76067 chip">game</div></a></object></div></div></a><a href="/2022-08-08-inifinite-turtles/"><div class="jsx-799c9c579b670e9f card"><h2 class="jsx-799c9c579b670e9f">自動化コンベアでチューリング完全を目指す『Infinite Turtles』の紹介</h2><p class="jsx-799c9c579b670e9f">steamのゲームの紹介。ベルトコンベアでいろんな問題を解く。</p><div class="jsx-ac4cd3c041d76067 tags"><object class="jsx-ac4cd3c041d76067"><a class="jsx-ac4cd3c041d76067" href="/tags/game/"><div class="jsx-ac4cd3c041d76067 chip">game</div></a></object></div></div></a><a href="/2022-08-07-ray-tracing-in-one-weekend/"><div class="jsx-799c9c579b670e9f card"><h2 class="jsx-799c9c579b670e9f">『Ray Tracing in One Weekend』をやった</h2><p class="jsx-799c9c579b670e9f">レイトレーシングを実装する</p><div class="jsx-ac4cd3c041d76067 tags"><object class="jsx-ac4cd3c041d76067"><a class="jsx-ac4cd3c041d76067" href="/tags/rust/"><div class="jsx-ac4cd3c041d76067 chip">rust</div></a></object></div></div></a><a href="/2022-07-24-isucon12-qualified/"><div class="jsx-799c9c579b670e9f card"><h2 class="jsx-799c9c579b670e9f">ISUCON12予選突破した。 :old_noto_innocent: </h2><p class="jsx-799c9c579b670e9f">ISUCON12予選突破できた。そのまとめ。</p><div class="jsx-ac4cd3c041d76067 tags"><object class="jsx-ac4cd3c041d76067"><a class="jsx-ac4cd3c041d76067" href="/tags/isucon/"><div class="jsx-ac4cd3c041d76067 chip">isucon</div></a></object><object class="jsx-ac4cd3c041d76067"><a class="jsx-ac4cd3c041d76067" href="/tags/web/"><div class="jsx-ac4cd3c041d76067 chip">web</div></a></object></div></div></a><a href="/2022-07-13-notion-blog/"><div class="jsx-799c9c579b670e9f card"><h2 class="jsx-799c9c579b670e9f">Notionでもブログを書けるように</h2><p class="jsx-799c9c579b670e9f">Notionからnextjsでブログを生成する</p><div class="jsx-ac4cd3c041d76067 tags"><object class="jsx-ac4cd3c041d76067"><a class="jsx-ac4cd3c041d76067" href="/tags/notion/"><div class="jsx-ac4cd3c041d76067 chip">notion</div></a></object><object class="jsx-ac4cd3c041d76067"><a class="jsx-ac4cd3c041d76067" href="/tags/nextjs/"><div class="jsx-ac4cd3c041d76067 chip">nextjs</div></a></object></div></div></a><a href="/2021-10-29-next-js/"><div class="jsx-799c9c579b670e9f card"><h2 class="jsx-799c9c579b670e9f">メモ構築にnextjsを使う</h2><p class="jsx-799c9c579b670e9f">nextjsのSSGで静的ブログを書く。Markdownではなく、生のReactでブログを書きたい。</p><div class="jsx-ac4cd3c041d76067 tags"><object class="jsx-ac4cd3c041d76067"><a class="jsx-ac4cd3c041d76067" href="/tags/js/"><div class="jsx-ac4cd3c041d76067 chip">js</div></a></object><object class="jsx-ac4cd3c041d76067"><a class="jsx-ac4cd3c041d76067" href="/tags/nextjs/"><div class="jsx-ac4cd3c041d76067 chip">nextjs</div></a></object></div></div></a><a href="/2021-05-27-more-ultimate-ticktacktoe/"><div class="jsx-799c9c579b670e9f card"><h2 class="jsx-799c9c579b670e9f">N次元マルバツゲーム Super Ultimate TickTackToe</h2><p class="jsx-799c9c579b670e9f">異常にネストした◯✕ゲーム</p><div class="jsx-ac4cd3c041d76067 tags"><object class="jsx-ac4cd3c041d76067"><a class="jsx-ac4cd3c041d76067" href="/tags/game/"><div class="jsx-ac4cd3c041d76067 chip">game</div></a></object></div></div></a></div></aside></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"id":"2022-10-05-tictactoe-random","notion":[{"notionID":"fce999af-1379-4dc9-b44f-b2c172f1198d","id":"2022-10-30-the-fools-question","icon":"❓","tags":["dialy"],"title":"教養動画における本当にに何もわかってない道化の存在について","summary":"何もわかっていな人が与える安心感と質問することについて。","recordMap":null,"lastUpdated":"2022-10-28T10:57:00.000Z"},{"notionID":"9a0af657-87b2-44c6-9b01-8d1e6260fd5e","id":"2022-10-29-virtual-dom","icon":"🌌","tags":["js"],"title":"仮想DOMの差分更新を簡単に実装する","summary":"仮想DOMの簡単な実装を行いました。差分をみて必要なDOMの更新だけ取り出します。","recordMap":null,"lastUpdated":"2022-10-28T10:48:00.000Z"},{"notionID":"5d9d1a5b-f3ba-4562-a71d-126d16803f1c","id":"2022-10-28-vue-computed","icon":"💚","tags":["vue","js"],"title":"Vueっぽいものを実装してComputedの仕組みを探る","summary":"VueのComputedのやや魔法っぽい、依存関係の自動導出についての仕組みを、簡単な実装で解説しました。","recordMap":null,"lastUpdated":"2022-10-28T10:59:00.000Z"},{"notionID":"5b75289d-a98f-4a25-a02b-4290f87cc16b","id":"2022-10-05-tictactoe-random","icon":"⭕","tags":["game"],"title":"三目並べをランダムに指したときの先手の勝利確率は?","summary":"まったくもってランダムに三目並べを行う","recordMap":{"block":{"5b75289d-a98f-4a25-a02b-4290f87cc16b":{"type":"reader","value":{"id":"5b75289d-a98f-4a25-a02b-4290f87cc16b","content":["9e6ed96f-70cf-4926-9698-b696ffb6224f","13d85c4e-d980-4b7f-9122-4fbb4ad2e5e1","88f1d204-089f-41ba-9280-b0cb3c33f900","99de6c81-824f-43fb-8ea6-19e3862dd576","db2fd645-fbe0-4b82-9497-c38bd3a5e5d1","42586620-2d4b-4af8-8df9-79694e6882a8"],"properties":{"title":[["三目並べをランダムに指したときの先手の勝利確率は?"]]},"format":{"page_icon":"⭕"},"type":"page","created_time":1664966100000,"last_edited_time":1664966340000,"created_by_table":"notion_user","created_by_id":"7efc331f-9b9e-449d-862e-b0eebef23f04","last_edited_by_table":"user","last_edited_by_id":"7efc331f-9b9e-449d-862e-b0eebef23f04","alive":true,"parent_id":"57afe6b6-f3fa-48bf-9a52-f29731547d0d","parent_table":"table"}},"9e6ed96f-70cf-4926-9698-b696ffb6224f":{"type":"reader","value":{"id":"9e6ed96f-70cf-4926-9698-b696ffb6224f","properties":{"title":[["このツイートを見かけて、オッズを求めてみた。"]]},"format":{"block_color":"default"},"type":"text","created_time":1664966220000,"last_edited_time":1664966220000,"created_by_table":"notion_user","created_by_id":"7efc331f-9b9e-449d-862e-b0eebef23f04","last_edited_by_table":"user","last_edited_by_id":"7efc331f-9b9e-449d-862e-b0eebef23f04","alive":true,"parent_id":"5b75289d-a98f-4a25-a02b-4290f87cc16b","parent_table":"block"}},"13d85c4e-d980-4b7f-9122-4fbb4ad2e5e1":{"type":"reader","value":{"id":"13d85c4e-d980-4b7f-9122-4fbb4ad2e5e1","properties":{"source":[["https://twitter.com/saikoro2357/status/1456164895049670657"]]},"type":"tweet","created_time":1664966160000,"last_edited_time":1664966160000,"created_by_table":"notion_user","created_by_id":"7efc331f-9b9e-449d-862e-b0eebef23f04","last_edited_by_table":"user","last_edited_by_id":"7efc331f-9b9e-449d-862e-b0eebef23f04","alive":true,"parent_id":"5b75289d-a98f-4a25-a02b-4290f87cc16b","parent_table":"block"}},"88f1d204-089f-41ba-9280-b0cb3c33f900":{"type":"reader","value":{"id":"88f1d204-089f-41ba-9280-b0cb3c33f900","properties":{"title":[["勝率は先手46%、後手23%、引き分け31%。"]]},"format":{"block_color":"default"},"type":"text","created_time":1664966160000,"last_edited_time":1664966220000,"created_by_table":"notion_user","created_by_id":"7efc331f-9b9e-449d-862e-b0eebef23f04","last_edited_by_table":"user","last_edited_by_id":"7efc331f-9b9e-449d-862e-b0eebef23f04","alive":true,"parent_id":"5b75289d-a98f-4a25-a02b-4290f87cc16b","parent_table":"block"}},"99de6c81-824f-43fb-8ea6-19e3862dd576":{"type":"reader","value":{"id":"99de6c81-824f-43fb-8ea6-19e3862dd576","properties":{"title":[["「先手勝ち: 2倍。後手勝ち: 4倍。引き分け: 3倍」でかなりバランスの良い控除率になることがわかる。"]]},"format":{"block_color":"default"},"type":"text","created_time":1664966220000,"last_edited_time":1664966340000,"created_by_table":"notion_user","created_by_id":"7efc331f-9b9e-449d-862e-b0eebef23f04","last_edited_by_table":"user","last_edited_by_id":"7efc331f-9b9e-449d-862e-b0eebef23f04","alive":true,"parent_id":"5b75289d-a98f-4a25-a02b-4290f87cc16b","parent_table":"block"}},"db2fd645-fbe0-4b82-9497-c38bd3a5e5d1":{"type":"reader","value":{"id":"db2fd645-fbe0-4b82-9497-c38bd3a5e5d1","properties":{"title":[["win={0=\u003e0, 1=\u003e0, -1=\u003e0}\nt=0\n[*0..8].permutation do |moves|\n    board = [0] * 9\n    player = 1\n    ok = false\n    [*moves, nil].each do |move|\n        if move == nil\n            win[0] += 1\n            next\n        end\n        board[move] = player\n        lines = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]\n        if lines.any?{|line| line.all?{|i| board[i] ==  player} }\n          win[player] += 1\n          ok = true\n          if rand(100)  == 0  \u0026\u0026 t \u003c 10\n              print board.map{|a|\"X.O\"[a+1]}.each_slice(3).map{|a|a.join(\"\")}.join(\"\\n\")+\"\\n\\n\"\n              t +=1\n          end\n          next\n        end\n        player *= -1\n    end\nend\nputs win\ns  =  win[-1]+win[0]+win[1]\nputs win.map{|k,v|[k,1.0*v/s]}.to_h"]],"language":[["ruby"]]},"format":{},"type":"code","created_time":1664966280000,"last_edited_time":1664966280000,"created_by_table":"notion_user","created_by_id":"7efc331f-9b9e-449d-862e-b0eebef23f04","last_edited_by_table":"user","last_edited_by_id":"7efc331f-9b9e-449d-862e-b0eebef23f04","alive":true,"parent_id":"5b75289d-a98f-4a25-a02b-4290f87cc16b","parent_table":"block"}},"42586620-2d4b-4af8-8df9-79694e6882a8":{"type":"reader","value":{"id":"42586620-2d4b-4af8-8df9-79694e6882a8","format":{"block_color":"default"},"type":"text","created_time":1664966160000,"last_edited_time":1664966160000,"created_by_table":"notion_user","created_by_id":"7efc331f-9b9e-449d-862e-b0eebef23f04","last_edited_by_table":"user","last_edited_by_id":"7efc331f-9b9e-449d-862e-b0eebef23f04","alive":true,"parent_id":"5b75289d-a98f-4a25-a02b-4290f87cc16b","parent_table":"block"}},"57afe6b6-f3fa-48bf-9a52-f29731547d0d":{"type":"reader","value":{"id":"57afe6b6-f3fa-48bf-9a52-f29731547d0d","properties":{},"format":{},"type":"child_database","created_time":1656396780000,"last_edited_time":1666953840000,"created_by_table":"notion_user","created_by_id":"7efc331f-9b9e-449d-862e-b0eebef23f04","last_edited_by_table":"user","last_edited_by_id":"7efc331f-9b9e-449d-862e-b0eebef23f04","alive":true}}},"collection":{},"collection_view":{},"collection_query":{},"signed_urls":{},"notion_user":{},"raw":{"page":{"object":"page","id":"5b75289d-a98f-4a25-a02b-4290f87cc16b","created_time":"2022-10-05T10:35:00.000Z","last_edited_time":"2022-10-05T10:39:00.000Z","created_by":{"object":"user","id":"7efc331f-9b9e-449d-862e-b0eebef23f04"},"last_edited_by":{"object":"user","id":"7efc331f-9b9e-449d-862e-b0eebef23f04"},"cover":null,"icon":{"type":"emoji","emoji":"⭕"},"parent":{"type":"database_id","database_id":"57afe6b6-f3fa-48bf-9a52-f29731547d0d"},"archived":false,"properties":{"ID":{"id":"cRSs","type":"rich_text","rich_text":[{"type":"text","text":{"content":"tictactoe-random","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"tictactoe-random","href":null}]},"Summary":{"id":"e%3BSi","type":"rich_text","rich_text":[{"type":"text","text":{"content":"まったくもってランダムに三目並べを行う","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"まったくもってランダムに三目並べを行う","href":null}]},"Created":{"id":"nlFt","type":"created_time","created_time":"2022-10-05T10:35:00.000Z"},"Tags":{"id":"pJSo","type":"multi_select","multi_select":[{"id":"253320de-431e-4e82-a177-10c54e98d949","name":"game","color":"green"}]},"PublishedAt":{"id":"wN%3Dw","type":"date","date":{"start":"2022-10-05","end":null,"time_zone":null}},"Name":{"id":"title","type":"title","title":[{"type":"text","text":{"content":"三目並べをランダムに指したときの先手の勝利確率は?","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"三目並べをランダムに指したときの先手の勝利確率は?","href":null}]}},"url":"https://www.notion.so/5b75289da98f4a25a02b4290f87cc16b"},"block":{"object":"block","id":"5b75289d-a98f-4a25-a02b-4290f87cc16b","parent":{"type":"database_id","database_id":"57afe6b6-f3fa-48bf-9a52-f29731547d0d"},"created_time":"2022-10-05T10:35:00.000Z","last_edited_time":"2022-10-05T10:39:00.000Z","created_by":{"object":"user","id":"7efc331f-9b9e-449d-862e-b0eebef23f04"},"last_edited_by":{"object":"user","id":"7efc331f-9b9e-449d-862e-b0eebef23f04"},"has_children":true,"archived":false,"type":"child_page","child_page":{"title":"三目並べをランダムに指したときの先手の勝利確率は?"}},"children":[{"object":"block","id":"9e6ed96f-70cf-4926-9698-b696ffb6224f","parent":{"type":"page_id","page_id":"5b75289d-a98f-4a25-a02b-4290f87cc16b"},"created_time":"2022-10-05T10:37:00.000Z","last_edited_time":"2022-10-05T10:37:00.000Z","created_by":{"object":"user","id":"7efc331f-9b9e-449d-862e-b0eebef23f04"},"last_edited_by":{"object":"user","id":"7efc331f-9b9e-449d-862e-b0eebef23f04"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"このツイートを見かけて、オッズを求めてみた。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"このツイートを見かけて、オッズを求めてみた。","href":null}],"color":"default"}},{"object":"block","id":"13d85c4e-d980-4b7f-9122-4fbb4ad2e5e1","parent":{"type":"page_id","page_id":"5b75289d-a98f-4a25-a02b-4290f87cc16b"},"created_time":"2022-10-05T10:36:00.000Z","last_edited_time":"2022-10-05T10:36:00.000Z","created_by":{"object":"user","id":"7efc331f-9b9e-449d-862e-b0eebef23f04"},"last_edited_by":{"object":"user","id":"7efc331f-9b9e-449d-862e-b0eebef23f04"},"has_children":false,"archived":false,"type":"embed","embed":{"caption":[],"url":"https://twitter.com/saikoro2357/status/1456164895049670657"}},{"object":"block","id":"88f1d204-089f-41ba-9280-b0cb3c33f900","parent":{"type":"page_id","page_id":"5b75289d-a98f-4a25-a02b-4290f87cc16b"},"created_time":"2022-10-05T10:36:00.000Z","last_edited_time":"2022-10-05T10:37:00.000Z","created_by":{"object":"user","id":"7efc331f-9b9e-449d-862e-b0eebef23f04"},"last_edited_by":{"object":"user","id":"7efc331f-9b9e-449d-862e-b0eebef23f04"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"勝率は先手46%、後手23%、引き分け31%。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"勝率は先手46%、後手23%、引き分け31%。","href":null}],"color":"default"}},{"object":"block","id":"99de6c81-824f-43fb-8ea6-19e3862dd576","parent":{"type":"page_id","page_id":"5b75289d-a98f-4a25-a02b-4290f87cc16b"},"created_time":"2022-10-05T10:37:00.000Z","last_edited_time":"2022-10-05T10:39:00.000Z","created_by":{"object":"user","id":"7efc331f-9b9e-449d-862e-b0eebef23f04"},"last_edited_by":{"object":"user","id":"7efc331f-9b9e-449d-862e-b0eebef23f04"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"「先手勝ち: 2倍。後手勝ち: 4倍。引き分け: 3倍」でかなりバランスの良い控除率になることがわかる。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"「先手勝ち: 2倍。後手勝ち: 4倍。引き分け: 3倍」でかなりバランスの良い控除率になることがわかる。","href":null}],"color":"default"}},{"object":"block","id":"db2fd645-fbe0-4b82-9497-c38bd3a5e5d1","parent":{"type":"page_id","page_id":"5b75289d-a98f-4a25-a02b-4290f87cc16b"},"created_time":"2022-10-05T10:38:00.000Z","last_edited_time":"2022-10-05T10:38:00.000Z","created_by":{"object":"user","id":"7efc331f-9b9e-449d-862e-b0eebef23f04"},"last_edited_by":{"object":"user","id":"7efc331f-9b9e-449d-862e-b0eebef23f04"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"win={0=\u003e0, 1=\u003e0, -1=\u003e0}\nt=0\n[*0..8].permutation do |moves|\n    board = [0] * 9\n    player = 1\n    ok = false\n    [*moves, nil].each do |move|\n        if move == nil\n            win[0] += 1\n            next\n        end\n        board[move] = player\n        lines = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]\n        if lines.any?{|line| line.all?{|i| board[i] ==  player} }\n          win[player] += 1\n          ok = true\n          if rand(100)  == 0  \u0026\u0026 t \u003c 10\n              print board.map{|a|\"X.O\"[a+1]}.each_slice(3).map{|a|a.join(\"\")}.join(\"\\n\")+\"\\n\\n\"\n              t +=1\n          end\n          next\n        end\n        player *= -1\n    end\nend\nputs win\ns  =  win[-1]+win[0]+win[1]\nputs win.map{|k,v|[k,1.0*v/s]}.to_h","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"win={0=\u003e0, 1=\u003e0, -1=\u003e0}\nt=0\n[*0..8].permutation do |moves|\n    board = [0] * 9\n    player = 1\n    ok = false\n    [*moves, nil].each do |move|\n        if move == nil\n            win[0] += 1\n            next\n        end\n        board[move] = player\n        lines = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]\n        if lines.any?{|line| line.all?{|i| board[i] ==  player} }\n          win[player] += 1\n          ok = true\n          if rand(100)  == 0  \u0026\u0026 t \u003c 10\n              print board.map{|a|\"X.O\"[a+1]}.each_slice(3).map{|a|a.join(\"\")}.join(\"\\n\")+\"\\n\\n\"\n              t +=1\n          end\n          next\n        end\n        player *= -1\n    end\nend\nputs win\ns  =  win[-1]+win[0]+win[1]\nputs win.map{|k,v|[k,1.0*v/s]}.to_h","href":null}],"language":"ruby"}},{"object":"block","id":"42586620-2d4b-4af8-8df9-79694e6882a8","parent":{"type":"page_id","page_id":"5b75289d-a98f-4a25-a02b-4290f87cc16b"},"created_time":"2022-10-05T10:36:00.000Z","last_edited_time":"2022-10-05T10:36:00.000Z","created_by":{"object":"user","id":"7efc331f-9b9e-449d-862e-b0eebef23f04"},"last_edited_by":{"object":"user","id":"7efc331f-9b9e-449d-862e-b0eebef23f04"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[],"color":"default"}}]}},"lastUpdated":"2022-10-05T10:39:00.000Z"},{"notionID":"b34f2185-860f-46e4-adae-b6a824a7c06b","id":"2022-08-07-ray-tracing-in-one-weekend","icon":"🔆","tags":["rust"],"title":"『Ray Tracing in One Weekend』をやった","summary":"レイトレーシングを実装する","recordMap":null,"lastUpdated":"2022-08-09T11:35:00.000Z"},{"notionID":"9137f946-c9f2-495a-9465-e22c317717bf","id":"2022-08-09-infinite-turtle-brainfuck","icon":"🧠","tags":["game"],"title":"コンベアで計算する『Infinite Turtle』でBrainfuckインタプリタを実装した","summary":"ベルトコンベアでbrainfuckを計算する様子","recordMap":null,"lastUpdated":"2022-08-09T11:32:00.000Z"},{"notionID":"7b60f0a0-848e-40d5-be90-9f28d934fbb2","id":"2022-10-25-rust-c-compiler","icon":"🦀","tags":["rust","compiler"],"title":"Rustで「低レイヤを知りたい人のためのCコンパイラ作成入門」を少しやる","summary":"コンパイラ作りを思い出す","recordMap":null,"lastUpdated":"2022-10-25T09:06:00.000Z"},{"notionID":"02f7fec3-88ee-4275-bb46-057a81153eba","id":"2022-07-24-isucon12-qualified","icon":"🎉","tags":["isucon","web"],"title":"ISUCON12予選突破した。 :old_noto_innocent: ","summary":"ISUCON12予選突破できた。そのまとめ。","recordMap":null,"lastUpdated":"2022-07-28T02:00:00.000Z"},{"notionID":"8837459a-5a44-48f1-ba64-3764c7cd659b","id":"2022-08-08-inifinite-turtles","icon":"🐢","tags":["game"],"title":"自動化コンベアでチューリング完全を目指す『Infinite Turtles』の紹介","summary":"steamのゲームの紹介。ベルトコンベアでいろんな問題を解く。","recordMap":null,"lastUpdated":"2022-08-09T08:45:00.000Z"},{"notionID":"31901beb-64fe-4576-8211-e14654a1c0c7","id":"2022-07-13-notion-blog","icon":"📝","tags":["notion","nextjs"],"title":"Notionでもブログを書けるように","summary":"Notionからnextjsでブログを生成する","recordMap":null,"lastUpdated":"2022-08-09T04:45:00.000Z"}]},"__N_SSG":true},"page":"/[id]","query":{"id":"2022-10-05-tictactoe-random"},"buildId":"M7kTXvE1EWKjWhGFmeUbI","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>